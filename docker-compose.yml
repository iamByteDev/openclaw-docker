
services:
  tailscale:
    image: tailscale/tailscale:latest
    hostname: openclawd
    env_file: ./tailscale/.env
    environment:
      TS_STATE_DIR: /var/lib/tailscale
      TS_USERSPACE: false
      TS_SERVE_CONFIG: /var/lib/tailscale/config/serve.json
    volumes:
      - ./volumes/tailscale:/var/lib/tailscale
      - /dev/net/tun:/dev/net/tun
    cap_add:
      - NET_ADMIN
      - SYS_MODULE
    restart: unless-stopped
    networks:
      - openclawd-network-remy  # CHANGED

  gateway:
    image: ghcr.io/openclaw/openclaw
    env_file: ./gateway/.env
    environment:
      HOME: /home/node
      TERM: xterm-256color
    volumes:
      - ./volumes/config:/home/node/.openclaw
      - ./volumes/workspace:/home/node/openclaw
      - ./volumes/storage:/home/node/storage
      - ./volumes/files/.bashrc:/home/node/.bashrc
      - ./volumes/files/.profile:/home/node/.profile
      - ./volumes/files/.bash_aliases:/home/node/.bash_aliases
    init: true
    restart: unless-stopped
    depends_on:
      - tailscale
    network_mode: service:tailscale
    command: ["node", "dist/index.js", "gateway", "--bind", "lan", "--port", "18789"]

  browser:
    image: ghcr.io/iamevanyt/openclaw-sandbox-browser
    hostname: openclaw-browser
    shm_size: 2gb
    volumes:
      - ./volumes/browser:/home/openclaw-browser/.chrome
    expose:
      - "9222"      # CHANGED - no mapping needed
      - "5900"      # CHANGED - no mapping needed
    ports:
      - "6080:6080" # CHANGED - double quotes
    restart: unless-stopped
    networks:
      - openclawd-network-remy  # CHANGED

networks:
  openclawd-network-remy:  # CHANGED
    driver: bridge
    ipam:
      config:
        - subnet: 172.21.0.0/24  # CHANGED - different subnet
```

**Changes made:**
- Network name: `openclawd-network-remy`
- Subnet: `172.21.0.0/24` (was `172.20.0.0/24`)
- Ports quoted with double quotes `"6080:6080"`
- Browser expose simplified

Copy this and commit! ðŸ¦‰
